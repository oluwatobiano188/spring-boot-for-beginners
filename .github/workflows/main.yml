name: Build & Deploy Spring app

on:
  push:
    branches:
       - main           
     
jobs: 
  build-deploy:
    name: build and spring boot app
    runs-on: ubuntu-latest
    steps:
      - name: checkout code
        uses: actions/checkout@v3

        name: set up jdk 17
      - uses: actions/setup-java@v3
        with: 
          distribution: 'temurin' 
          java-version: 17
          
      - name: unit test
        uses: mvn -B test --file pom.xml
        
      - name: build the application 
        run: |
          mvm clean
          mvm -B  package --file pom.xl    

        